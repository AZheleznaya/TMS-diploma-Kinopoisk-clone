"use strict";(self.webpackChunkdiploma=self.webpackChunkdiploma||[]).push([[938],{1938:function(e,t,i){i.r(t),i.d(t,{default:function(){return se}});var a,n=i(2791),l=i(7587),r=i(9527);!function(e){e.director="DIRECTOR",e.writer="WRITER",e.actor="ACTOR"}(a||(a={}));var c={tableHeader:"TableItem_tableHeader__oRysX",tableData:"TableItem_tableData__jkQ2F",light:"TableItem_light__CxZk6"},s=i(184),o=function(e){var t=e.tableHeader,i=void 0===t?"":t,a=e.tableData,n=void 0===a?"":a,r=(0,l.Fg)().isLightTheme;return(0,s.jsxs)("tr",{className:c.tableRow,children:[(0,s.jsx)("th",{className:c.tableHeader,children:i}),(0,s.jsx)("td",{className:"".concat(c.tableData," ").concat(r&&c.light),children:n})]})},d="Table_tableAbout__4ifLn",m=function(e){var t=e.config,i=void 0===t?[]:t;return(0,s.jsx)("table",{className:d,children:(0,s.jsx)("tbody",{children:i.map((function(e){return(0,s.jsx)(o,{tableHeader:e.tableHeader,tableData:e.tableData},e.tableHeader)}))})})},u=i(1413),f=i(885),v=i(9434),h=i(60),_=i(5984),g="SocialNetwork_wrapper__Q-yo9",b="SocialNetwork_lightWrapper__SaHE2",p="SocialNetwork_text__UTnbZ",x="SocialNetwork_lightText__5cbYu",j="SocialNetwork_buttonShare__thfmt",S=function(){var e=(0,l.Fg)().isLightTheme;return(0,s.jsxs)("div",{className:"".concat(g," ").concat(e&&b),children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"".concat(p," ").concat(e&&x),children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f:"})}),(0,s.jsx)("div",{className:j,children:(0,s.jsx)("div",{className:"uSocial-Share","data-pid":"d3c4f9aca735ce62c6200be409f617af","data-type":"share","data-social":"vk,telegram,fb","data-options":"round-rect,style1,default,absolute,horizontal,size32,eachCounter0,counter0,mobile_position_left,cutUrl"})})]})};var F=i.p+"static/media/Bookmark.1ebff95e4a6a8293650543b5fc819640.svg";var N=i.p+"static/media/WhiteBookmark.df771a8d049afadd907dc093dcb61007.svg",k=i(2346);var w=i.p+"static/media/ShareNodes.f19431bc8a2425171ce98e3ccbe44762.svg";var Z=i.p+"static/media/WhiteShare.43268568a2c7441c8bc7b4185da9580b.svg";var T=i.p+"static/media/PurpleShare.da6e09f2d69e202256e698c5762cbc48.svg",y="SelectedFilmActions_actions__Rc5VM",C="SelectedFilmActions_buttonBookmark__o54Cg",R="SelectedFilmActions_buttonShare__fTZt0",D="SelectedFilmActions_socialsWrapper__qYZaQ",H="SelectedFilmActions_lightButton__tCv+V",L=function(e){var t=e.film,i=(0,v.I0)(),a=(0,l.Fg)(),r=a.isLightTheme,c=a.isDarkTheme,o=(0,n.useState)(!1),d=(0,f.Z)(o,2),m=d[0],g=d[1];return(0,s.jsxs)("div",{className:y,children:[(0,s.jsx)(_.ZP,{onClick:function(){i((0,h.MO)((0,u.Z)((0,u.Z)({},t),{},{favorite:!t.favorite})))},variant:_.pG.forSelectedFilm,className:"".concat(C," ").concat(r&&H),children:(0,s.jsx)("img",{src:r&&t.favorite?k.Z:c&&t.favorite||r?N:F,alt:"bookmarkIcon"})}),(0,s.jsx)(_.ZP,{onClick:function(){return g((function(e){return!e}))},variant:_.pG.forSelectedFilm,className:"".concat(R," ").concat(r&&H),children:(0,s.jsx)("img",{src:r&&m?T:c&&m||r?Z:w,alt:"shareIcon"})}),(0,s.jsx)("div",{className:D,children:m&&(0,s.jsx)(S,{})})]})},I=i(4165),A=i(5861),P=i(411),G=i(5671),M=i(3144),E=i(3354),V=i(9277),B=function(){function e(){(0,G.Z)(this,e)}return(0,M.Z)(e,null,[{key:"getRecommendations",value:function(){var e=(0,A.Z)((0,I.Z)().mark((function e(){var t,i=arguments;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,E.Z.get("https://kinopoiskapiunofficial.tech/api/v2.2/films?genres=".concat(t)).then(V.A).then((function(e){var t=[];return e.items.forEach((function(e){t.push(e)})),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),W=i(571);var K=i.p+"static/media/arrowLeftDark.328198d4d946e7c01fa4b27b58c8ecad.svg";var O=i.p+"static/media/arrowLeftLight.f573620b5e1da0809875963f5712ba10.svg";var Y=i.p+"static/media/arrowRightDark.fef29c89dc15e70ada3b029d5f0f2bcf.svg";var U=i.p+"static/media/arrowRightLight.4cc3014712af623302937711b01324f7.svg",X="Arrows_arrows__mYqGZ",z="Arrows_arrow__Dx0BN",q=function(){var e=(0,l.Fg)().isLightTheme,t=(0,n.useContext)(ne).changeSlide;return(0,s.jsxs)("div",{className:X,children:[(0,s.jsx)(_.ZP,{variant:_.pG.forIcon,className:z,onClick:function(){t(-1)},children:(0,s.jsx)("img",{src:e?K:O,alt:"arrowRight"})}),(0,s.jsx)(_.ZP,{variant:_.pG.forIcon,className:z,onClick:function(){t(1)},children:(0,s.jsx)("img",{src:e?Y:U,alt:"arrowRight"})})]})},Q=i(417),J="SliderContext_slider__Au1eY",$="SliderContext_recommendHeader__O9lne",ee="SliderContext_slideList__+-rB5",te="SliderContext_light__0hV9v",ie="SliderContext_film__trmqP",ae=function(){var e=(0,r.k)(),t=e.isViewForSlider,i=e.isSecondaryView,a=e.isTabletView,l=e.isMobileView,c=(0,n.useContext)(ne),o=c.slideNumber,d=c.items,m=l?281:a?480:i?498:t?614:920;return(0,s.jsx)("div",{className:ee,style:{transform:"translateX(-".concat(o&&o*m,"px)")},children:null===d||void 0===d?void 0:d.map((function(e,t){return(0,s.jsx)(Q.Z,(0,u.Z)((0,u.Z)({},e),{},{className:ie}),t)}))})},ne=(0,n.createContext)({items:[],slidesCount:null,slideNumber:null,changeSlide:function(){}}),le=function(e){var t=e.str,i=void 0===t?"":t,a=e.limit,r=void 0===a?4:a,c=e.autoPlay,o=void 0!==c&&c,d=e.autoPlayTime,m=void 0===d?5e3:d,u=(0,l.Fg)().isLightTheme,v=(0,n.useState)([]),h=(0,f.Z)(v,2),_=h[0],g=h[1],b=(0,n.useState)(0),p=(0,f.Z)(b,2),x=p[0],j=p[1],S=(0,n.useState)(null),F=(0,f.Z)(S,2),N=F[0],k=F[1],w=_.length/r,Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;j(x+e<0?w-1:(x+e)%w)};return(0,n.useEffect)((function(){var e=function(){var e=(0,A.Z)((0,I.Z)().mark((function e(){var t,a,n,l;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.Z.getGenresId();case 2:if(!(t=e.sent)){e.next=9;break}return n=null===(a=t.find((function(e){return(null===e||void 0===e?void 0:e.genre)===i})))||void 0===a?void 0:a.id,e.next=7,B.getRecommendations(n);case 7:l=e.sent,g(l);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,n.useEffect)((function(){if(o){var e=setInterval((function(){Z(1)}),m);return function(){clearInterval(e)}}}),[_.length,x]),(0,s.jsx)("div",{className:J,onTouchStart:function(e){var t=e.touches[0].clientX;k(t)},onTouchMove:function(e){if(null!==N){var t=e.touches[0].clientX,i=N-t;i>10&&Z(1),i<-10&&Z(-1),k(null)}},children:(0,s.jsxs)(ne.Provider,{value:{items:_,slidesCount:_.length,slideNumber:x,changeSlide:Z},children:[(0,s.jsxs)("div",{className:$,children:[(0,s.jsx)(W.Z,{className:u?te:"",variant:W.B.big,text:"Recommendations"}),(0,s.jsx)(q,{})]}),(0,s.jsx)(ae,{})]})})};var re=i.p+"static/media/IMDb.58444fd8d2f8f69876ca64b6261dde9a.svg",ce={selectedFilm:"SelectedFilm_selectedFilm__QO5jX",poster:"SelectedFilm_poster__tg9gT",selectedFilmGenre:"SelectedFilm_selectedFilmGenre__tCZd3",selectedFilmTitle:"SelectedFilm_selectedFilmTitle__YVXcG",selectedFilmMarkers:"SelectedFilm_selectedFilmMarkers__0hJ17",ratings:"SelectedFilm_ratings__lKv1C",yellow:"SelectedFilm_yellow__WYduq",red:"SelectedFilm_red__PnOLn",imdb:"SelectedFilm_imdb__rhWgR",runTime:"SelectedFilm_runTime__8YKFN",selectedFilmPlot:"SelectedFilm_selectedFilmPlot__JC04S",selectedFilmDescription:"SelectedFilm_selectedFilmDescription__ca4ee",light:"SelectedFilm_light__F11Hn",recommendations:"SelectedFilm_recommendations__z6AG3",recommendHeader:"SelectedFilm_recommendHeader__KWuyb",selectedFilmLeftSide:"SelectedFilm_selectedFilmLeftSide__vZn-t"},se=function(e){var t=(0,l.Fg)().isLightTheme,i=(0,r.k)().isMobileView,n=e.posterUrl,c=e.ratingAgeLimits,o=e.genres,d=e.nameRu,u=e.ratingKinopoisk,f=e.filmLength,v=e.description,h=e.year,_=e.boxOffice,g=e.countries,b=e.actors,p=e.directors,x=e.writers,j=null===c||void 0===c?void 0:c.replace(/[^0-9]/g,""),S=null===_||void 0===_?void 0:_.filter((function(e){return"BUDGET"===e.type})).map((function(e){return e.symbol+e.amount})).join(),F=null===g||void 0===g?void 0:g.map((function(e){return e.country[0].toUpperCase()+e.country.slice(1)})).join(", "),N=null===b||void 0===b?void 0:b.filter((function(e){return e.professionKey===a.actor})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),k=null===p||void 0===p?void 0:p.filter((function(e){return e.professionKey===a.director})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),w=null===x||void 0===x?void 0:x.filter((function(e){return e.professionKey===a.writer})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),Z=null===o||void 0===o?void 0:o.map((function(e){return e.genre[0].toUpperCase()+e.genre.slice(1)})).join(" \u2022 "),T=[{tableHeader:"\u0413\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430",tableData:h},{tableHeader:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",tableData:c?"+"+j:"+16"},{tableHeader:"\u0411\u044e\u0434\u0436\u0435\u0442",tableData:S||"$1000000"},{tableHeader:"\u0421\u0442\u0440\u0430\u043d\u0430",tableData:F},{tableHeader:"\u0410\u043a\u0442\u0451\u0440\u044b",tableData:N||"-"},{tableHeader:"\u0420\u0435\u0436\u0438\u0441\u0441\u0451\u0440\u044b",tableData:k||"-"},{tableHeader:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439",tableData:w||"-"}];return(0,s.jsxs)("div",{className:ce.selectedFilm,children:[!i&&(0,s.jsxs)("div",{className:ce.selectedFilmLeftSide,children:[(0,s.jsx)("img",{src:n,className:ce.poster,loading:"lazy",alt:"poster"}),(0,s.jsx)(L,{film:e})]}),(0,s.jsxs)("div",{className:ce.selectedFilmRightSide,children:[(0,s.jsx)("div",{className:ce.selectedFilmGenre,children:Z}),(0,s.jsx)("h1",{className:"".concat(ce.selectedFilmTitle," ").concat(t&&ce.light),children:d}),(0,s.jsxs)("div",{className:ce.selectedFilmMarkers,children:[null===u?(0,s.jsx)("div",{className:"".concat(ce.yellow),children:5}):(0,s.jsx)("div",{className:"".concat(u<5?ce.red:u>=7?ce.ratings:ce.yellow),children:u}),(0,s.jsxs)("div",{className:"".concat(ce.imdb," ").concat(t&&ce.lightMarkers),children:[(0,s.jsx)("img",{src:re,alt:"imdb"}),u||5]}),(0,s.jsxs)("div",{className:"".concat(ce.runTime," ").concat(t&&ce.lightMarkers),children:[f||120," min"]})]}),i&&(0,s.jsxs)("div",{className:ce.selectedFilmLeftSide,children:[(0,s.jsx)("img",{src:n,className:ce.poster,loading:"lazy",alt:"poster"}),(0,s.jsx)(L,{film:e})]}),!!v&&(0,s.jsx)("div",{className:"".concat(ce.selectedFilmPlot," ").concat(t&&ce.light),children:v}),(0,s.jsxs)("div",{className:ce.selectedFilmDescription,children:[(0,s.jsx)(m,{config:T}),(0,s.jsx)("div",{className:ce.recommendations,children:(0,s.jsx)(le,{str:null!==o&&void 0!==o&&o.length?o[0].genre:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f"})})]})]})]})}}}]);
//# sourceMappingURL=938.ad264faf.chunk.js.map